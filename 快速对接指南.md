# ğŸš€ å¿«é€Ÿå¯¹æ¥æŒ‡å—

## ğŸ“‹ æ ¸å¿ƒæ¥å£

### 1. é‚€è¯·ç æ³¨å†Œ
```http
POST /api/auth/invite-register
Content-Type: application/json

{
  "username": "ç”¨æˆ·å",
  "email": "é‚®ç®±",
  "password": "å¯†ç ",
  "inviteCode": "é‚€è¯·ç "
}
```

**æˆåŠŸå“åº”:**
```json
{
  "success": true,
  "userId": 123,
  "message": "æ³¨å†ŒæˆåŠŸ",
  "inviteCode": "ABC123DEF"
}
```

### 2. ç”¨æˆ·ç™»å½•
```http
POST /api/auth/local
Content-Type: application/json

{
  "identifier": "ç”¨æˆ·åæˆ–é‚®ç®±",
  "password": "å¯†ç "
}
```

**æˆåŠŸå“åº”:**
```json
{
  "jwt": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": 123,
    "username": "ç”¨æˆ·å",
    "email": "é‚®ç®±",
    "yaoqingMa": "é‚€è¯·ç ",
    "qianbao": {"id": 456, "yue": 0}
  }
}
```

## ğŸ”§ å‰ç«¯é›†æˆè¦ç‚¹

### 1. ä¿å­˜è®¤è¯ä¿¡æ¯
```dart
// ä¿å­˜ JWT Token å’Œç”¨æˆ·ä¿¡æ¯
await prefs.setString('jwt_token', response.data['jwt']);
await prefs.setString('user_data', jsonEncode(response.data['user']));
```

### 2. è¯·æ±‚å¤´è®¾ç½®
```dart
// åœ¨éœ€è¦è®¤è¯çš„è¯·æ±‚ä¸­æ·»åŠ 
headers: {
  'Authorization': 'Bearer $token',
  'Content-Type': 'application/json'
}
```

### 3. é”™è¯¯å¤„ç†
```dart
// å¸¸è§é”™è¯¯ä¿¡æ¯
"ç”¨æˆ·åè‡³å°‘3ä¸ªå­—ç¬¦ï¼Œæœ€å¤š20ä¸ªå­—ç¬¦"
"é‚®ç®±æ ¼å¼æ— æ•ˆ"
"å¯†ç è‡³å°‘6ä¸ªå­—ç¬¦"
"é‚€è¯·ç æ ¼å¼æ— æ•ˆ"
"ç”¨æˆ·åæˆ–é‚®ç®±å·²å­˜åœ¨"
"é‚€è¯·ç æ— æ•ˆ"
"Invalid identifier or password."
```

## ğŸ“± æµ‹è¯•è´¦å·

### æµ‹è¯•ç¯å¢ƒ
- **æœåŠ¡å™¨**: `http://118.107.4.158:1337`
- **é‚€è¯·ç **: `AN2CN12D`

### å¿«é€Ÿæµ‹è¯•
```bash
# æ³¨å†Œæµ‹è¯•
curl -X POST http://118.107.4.158:1337/api/auth/invite-register \
  -H "Content-Type: application/json" \
  -d '{
    "username": "testuser",
    "email": "test@example.com",
    "password": "123456",
    "inviteCode": "AN2CN12D"
  }'

# ç™»å½•æµ‹è¯•
curl -X POST http://118.107.4.158:1337/api/auth/local \
  -H "Content-Type: application/json" \
  -d '{
    "identifier": "testuser",
    "password": "123456"
  }'
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **é‚€è¯·ç å¿…å¡«**: æ³¨å†Œæ—¶å¿…é¡»æä¾›æœ‰æ•ˆçš„é‚€è¯·ç 
2. **ç”¨æˆ·åå”¯ä¸€**: ç”¨æˆ·åå’Œé‚®ç®±éƒ½ä¸èƒ½é‡å¤
3. **Token ç®¡ç†**: ç™»å½•æˆåŠŸåä¿å­˜ JWT Tokenï¼Œåç»­è¯·æ±‚éœ€è¦æºå¸¦
4. **é”™è¯¯å¤„ç†**: æ‰€æœ‰æ¥å£éƒ½æœ‰è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯è¿”å›
5. **è‡ªåŠ¨é’±åŒ…**: æ³¨å†ŒæˆåŠŸåä¼šè‡ªåŠ¨åˆ›å»ºé’±åŒ…ä½™é¢è®°å½•

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- è¯¦ç»†æ–‡æ¡£: `å‰ç«¯ç™»å½•æ³¨å†Œå¯¹æ¥æ–‡æ¡£.md`
- æµ‹è¯•è„šæœ¬: `test-registration.js`
- æœåŠ¡å™¨åœ°å€: `http://118.107.4.158:1337`

---

*å¿«é€Ÿå¼€å§‹ï¼Œ5åˆ†é’Ÿå®Œæˆå¯¹æ¥ï¼* 