# ğŸš€ éƒ¨ç½²æŒ‡å—

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### 1. å¤‡ä»½å½“å‰ç³»ç»Ÿ
```bash
# å¤‡ä»½æ•°æ®åº“
cp .tmp/data.db .tmp/data.db.backup.$(date +%Y%m%d_%H%M%S)

# å¤‡ä»½ä»£ç ï¼ˆå¦‚æœæœ‰Gitï¼‰
git stash
```

### 2. æ£€æŸ¥å½“å‰çŠ¶æ€
```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
ps aux | grep node

# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tlnp | grep 1337
```

## ğŸ”§ éƒ¨ç½²æ­¥éª¤

### 1. åœæ­¢å½“å‰æœåŠ¡
```bash
# å¦‚æœä½¿ç”¨PM2
pm2 stop strapi-backend-skeleton

# æˆ–è€…ç›´æ¥åœæ­¢è¿›ç¨‹
pkill -f "strapi develop"
```

### 2. æ‹‰å–æœ€æ–°ä»£ç 
```bash
# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# å®‰è£…ä¾èµ–ï¼ˆå¦‚æœæœ‰æ–°ä¾èµ–ï¼‰
npm install
```

### 3. è¿è¡Œæ•°æ®åº“è¿ç§»
```bash
# è¿è¡Œå®‰å…¨çš„æ•°æ®åº“è¿ç§»
npm run strapi database:migrate
```

### 4. å¯åŠ¨æœåŠ¡
```bash
# å¼€å‘æ¨¡å¼å¯åŠ¨
npm run develop

# æˆ–è€…ç”Ÿäº§æ¨¡å¼å¯åŠ¨
npm run start
```

## ğŸ§ª éƒ¨ç½²åéªŒè¯

### 1. å¥åº·æ£€æŸ¥
```bash
# æµ‹è¯•å¥åº·æ£€æŸ¥æ¥å£
curl http://localhost:1337/health

# é¢„æœŸè¾“å‡ºï¼š
{
  "status": "healthy",
  "timestamp": "2024-01-01T00:00:00.000Z",
  "responseTime": "50ms",
  "services": {
    "database": "healthy",
    "redis": "not_configured",
    "cache": "unavailable"
  }
}
```

### 2. æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•
```bash
# æµ‹è¯•æŠ•èµ„è®¢å•API
curl http://localhost:1337/api/dinggou-dingdans

# æµ‹è¯•é’±åŒ…API
curl http://localhost:1337/api/qianbao-yues

# æµ‹è¯•æŠ½å¥–API
curl http://localhost:1337/api/choujiang-ji-lus

# æµ‹è¯•å•†åŸAPI
curl http://localhost:1337/api/shop-products
```

### 3. é”™è¯¯å¤„ç†æµ‹è¯•
```bash
# æµ‹è¯•é”™è¯¯å¤„ç†
curl http://localhost:1337/api/nonexistent-endpoint

# é¢„æœŸè¾“å‡ºï¼š
{
  "error": "èµ„æºä¸å­˜åœ¨",
  "message": "API endpoint not found"
}
```

## ğŸ›¡ï¸ æ•…éšœæ’é™¤

### 1. æ•°æ®åº“è¿ç§»å¤±è´¥
å¦‚æœè¿ç§»å¤±è´¥ï¼Œå¯ä»¥è·³è¿‡ç´¢å¼•åˆ›å»ºï¼š
```bash
# åˆ é™¤è¿ç§»è®°å½•
rm -rf .tmp/migrations/

# é‡æ–°å¯åŠ¨æœåŠ¡
npm run develop
```

### 2. Redisè¿æ¥é—®é¢˜
å¦‚æœRedisæœªé…ç½®ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨é™çº§ï¼š
```bash
# æ£€æŸ¥RedisçŠ¶æ€
redis-cli ping

# å¦‚æœRedisä¸å¯ç”¨ï¼Œç³»ç»Ÿä¼šè·³è¿‡ç¼“å­˜åŠŸèƒ½
```

### 3. ç«¯å£å†²çª
å¦‚æœ1337ç«¯å£è¢«å ç”¨ï¼š
```bash
# æŸ¥æ‰¾å ç”¨è¿›ç¨‹
lsof -i :1337

# æ€æ­»è¿›ç¨‹
kill -9 <PID>

# æˆ–è€…ä½¿ç”¨å…¶ä»–ç«¯å£
HOST=0.0.0.0 PORT=1338 npm run develop
```

## ğŸ“Š ç›‘æ§æŒ‡æ ‡

### 1. ç³»ç»Ÿæ€§èƒ½
- å“åº”æ—¶é—´ï¼šåº”è¯¥ < 200ms
- å†…å­˜ä½¿ç”¨ï¼šåº”è¯¥ < 500MB
- CPUä½¿ç”¨ï¼šåº”è¯¥ < 50%

### 2. ä¸šåŠ¡æŒ‡æ ‡
- è®¢å•åˆ›å»ºæˆåŠŸç‡ï¼šåº”è¯¥ > 99%
- é’±åŒ…æ“ä½œæˆåŠŸç‡ï¼šåº”è¯¥ > 99%
- æŠ½å¥–æ‰§è¡ŒæˆåŠŸç‡ï¼šåº”è¯¥ > 99%

### 3. é”™è¯¯ç‡
- APIé”™è¯¯ç‡ï¼šåº”è¯¥ < 1%
- æ•°æ®åº“é”™è¯¯ç‡ï¼šåº”è¯¥ < 0.1%

## ğŸ”„ å›æ»šè®¡åˆ’

å¦‚æœå‡ºç°é—®é¢˜ï¼Œå¯ä»¥ç«‹å³å›æ»šï¼š

### 1. ä»£ç å›æ»š
```bash
# å›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬
git reset --hard HEAD~1

# æˆ–è€…å›æ»šåˆ°ç‰¹å®šæäº¤
git reset --hard <commit-hash>
```

### 2. æ•°æ®åº“å›æ»š
```bash
# æ¢å¤æ•°æ®åº“å¤‡ä»½
cp .tmp/data.db.backup.* .tmp/data.db

# é‡å¯æœåŠ¡
npm run develop
```

### 3. æœåŠ¡å›æ»š
```bash
# å¦‚æœä½¿ç”¨PM2ï¼Œå›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬
pm2 restart strapi-backend-skeleton
```

## ğŸ¯ é¢„æœŸæ•ˆæœ

### 1. ç¨³å®šæ€§æå‡
- æ•°æ®ä¸€è‡´æ€§ï¼š99.9%+ (ä¹‹å‰95%)
- å¹¶å‘å®‰å…¨æ€§ï¼š100% (ä¹‹å‰90%)
- é”™è¯¯å¤„ç†ï¼š95%+ (ä¹‹å‰70%)

### 2. æ€§èƒ½æå‡
- æŸ¥è¯¢é€Ÿåº¦ï¼šæå‡50-80%
- å¹¶å‘å¤„ç†ï¼šæå‡3-5å€
- å“åº”æ—¶é—´ï¼šå‡å°‘30-50%

### 3. ç»´æŠ¤æ€§æå‡
- é”™è¯¯å®šä½ï¼šæå‡80%
- è°ƒè¯•æ•ˆç‡ï¼šæå‡60%
- ä»£ç å¯è¯»æ€§ï¼šæ˜¾è‘—æå‡

## ğŸ“ æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š

1. **æ—¥å¿—æ–‡ä»¶**ï¼šæŸ¥çœ‹æ§åˆ¶å°è¾“å‡º
2. **å¥åº·æ£€æŸ¥**ï¼šè®¿é—® `/health` æ¥å£
3. **æ•°æ®åº“çŠ¶æ€**ï¼šæ£€æŸ¥æ•°æ®åº“è¿æ¥
4. **ç½‘ç»œè¿æ¥**ï¼šæ£€æŸ¥ç«¯å£å’Œé˜²ç«å¢™

## âœ… éƒ¨ç½²æ£€æŸ¥æ¸…å•

- [ ] å¤‡ä»½æ•°æ®åº“å’Œä»£ç 
- [ ] åœæ­¢å½“å‰æœåŠ¡
- [ ] æ‹‰å–æœ€æ–°ä»£ç 
- [ ] å®‰è£…ä¾èµ–
- [ ] è¿è¡Œæ•°æ®åº“è¿ç§»
- [ ] å¯åŠ¨æœåŠ¡
- [ ] æµ‹è¯•å¥åº·æ£€æŸ¥
- [ ] æµ‹è¯•æ ¸å¿ƒåŠŸèƒ½
- [ ] ç›‘æ§ç³»ç»Ÿæ€§èƒ½
- [ ] éªŒè¯é”™è¯¯å¤„ç†

**éƒ¨ç½²å®Œæˆåï¼Œç³»ç»Ÿå°†æ›´åŠ ç¨³å®šã€å®‰å…¨ã€é«˜æ•ˆï¼** 