# è®¤è´­æ¿å—å¯¹æ¥æ–‡æ¡£

## ğŸ“‹ ç³»ç»Ÿæ¦‚è¿°

è®¤è´­æ¿å—æ˜¯ä¸€ä¸ªå®Œæ•´çš„æŠ•èµ„ç†è´¢ç³»ç»Ÿï¼ŒåŒ…å«ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š
- **è®¤è´­è®¡åˆ’ç®¡ç†**: ç®¡ç†å‘˜åˆ›å»ºä¸åŒçš„æŠ•èµ„è®¡åˆ’
- **è®¢å•åˆ›å»º**: ç”¨æˆ·é€‰æ‹©è®¡åˆ’è¿›è¡ŒæŠ•èµ„
- **æ”¶ç›Šè®¡ç®—**: åˆ°æœŸåè‡ªåŠ¨è®¡ç®—é™æ€æ”¶ç›Šå’ŒAIä»£å¸å¥–åŠ±
- **é‚€è¯·å¥–åŠ±**: åŸºäºæ¨èå…³ç³»å‘æ”¾å¥–åŠ±
- **æŠ½å¥–æœºä¼š**: æŠ•èµ„åˆ°æœŸåè·å¾—æŠ½å¥–æœºä¼š

## ğŸ”— API åŸºç¡€ä¿¡æ¯

- **Base URL**: `http://118.107.4.158:1337`
- **è®¤è¯æ–¹å¼**: JWT Bearer Token
- **Content-Type**: `application/json`

## ğŸ“Š æ•°æ®æ¨¡å‹

### 1. è®¤è´­è®¡åˆ’ (dinggou-jihua)

```typescript
interface DinggouJihua {
  id: number;
  jihuaCode: string;        // è®¡åˆ’ä»£ç ï¼Œå¦‚ "PLAN500"
  benjinUSDT: string;       // æœ¬é‡‘é‡‘é¢ï¼Œå¦‚ "500"
  zhouQiTian: number;       // å‘¨æœŸå¤©æ•°ï¼Œå¦‚ 15
  jingtaiBili: string;      // é™æ€æ”¶ç›Šæ¯”ä¾‹ï¼Œå¦‚ "6"
  aiBili: string;          // AIä»£å¸æ¯”ä¾‹ï¼Œå¦‚ "3"
  choujiangCi: number;     // æŠ½å¥–æ¬¡æ•°ï¼Œå¦‚ 3
  kaiqi: boolean;          // æ˜¯å¦å¼€å¯
  dingdanList?: DinggouDingdan[]; // å…³è”è®¢å•åˆ—è¡¨
  createdAt: string;
  updatedAt: string;
}
```

### 2. è®¤è´­è®¢å• (dinggou-dingdan)

```typescript
interface DinggouDingdan {
  id: number;
  benjinUSDT: string;       // æœ¬é‡‘é‡‘é¢
  zhuangtai: 'active' | 'redeemable' | 'finished'; // è®¢å•çŠ¶æ€
  kaishiShiJian: string;    // å¼€å§‹æ—¶é—´
  jieshuShiJian: string;    // ç»“æŸæ—¶é—´
  jingtaiShouyi: string;    // é™æ€æ”¶ç›Š
  aiShuliang: string;       // AIä»£å¸æ•°é‡
  yonghu: User;             // å…³è”ç”¨æˆ·
  jihua: DinggouJihua;      // å…³è”è®¡åˆ’
  jiangli?: YaoqingJiangli; // å…³è”å¥–åŠ±
  createdAt: string;
  updatedAt: string;
}
```

### 3. é’±åŒ…ä½™é¢ (qianbao-yue)

```typescript
interface QianbaoYue {
  id: number;
  usdtYue: string;          // USDTä½™é¢
  aiYue: string;            // AIä»£å¸ä½™é¢
  aiTokenBalances: string;  // AIä»£å¸ä½™é¢JSONæ ¼å¼
  yonghu: User;             // å…³è”ç”¨æˆ·
  createdAt: string;
  updatedAt: string;
}
```

### 4. AIä»£å¸ (ai-token)

```typescript
interface AiToken {
  id: number;
  name: string;             // ä»£å¸åç§°
  symbol: string;           // ä»£å¸ç¬¦å·
  contractAddress?: string; // åˆçº¦åœ°å€
  priceSource: 'coingecko' | 'binance' | 'dexscreener';
  priceApiId?: string;      // APIä¸­çš„ä»£å¸ID
  weight: number;           // æƒé‡(1-100)
  isActive: boolean;        // æ˜¯å¦å¯ç”¨
  logoUrl?: string;         // ä»£å¸å›¾æ ‡URL
  description?: string;     // ä»£å¸æè¿°
  createdAt: string;
  updatedAt: string;
}
```

## ğŸš€ API æ¥å£è¯¦æƒ…

### 1. è·å–è®¤è´­è®¡åˆ’åˆ—è¡¨

**æ¥å£**: `GET /api/dinggou-jihuas`

**æè¿°**: è·å–æ‰€æœ‰å¯ç”¨çš„è®¤è´­è®¡åˆ’

**è¯·æ±‚å‚æ•°**:
```typescript
{
  filters?: {
    kaiqi?: boolean;        // ç­›é€‰å¼€å¯çš„è®¡åˆ’
  };
  sort?: string;            // æ’åºï¼Œå¦‚ "createdAt:desc"
  pagination?: {
    page?: number;          // é¡µç 
    pageSize?: number;      // æ¯é¡µæ•°é‡
  };
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "data": [
    {
      "id": 1,
      "attributes": {
        "jihuaCode": "PLAN500",
        "benjinUSDT": "500",
        "zhouQiTian": 15,
        "jingtaiBili": "6",
        "aiBili": "3",
        "choujiangCi": 3,
        "kaiqi": true,
        "createdAt": "2024-01-01T00:00:00.000Z",
        "updatedAt": "2024-01-01T00:00:00.000Z"
      }
    }
  ],
  "meta": {
    "pagination": {
      "page": 1,
      "pageSize": 25,
      "pageCount": 1,
      "total": 1
    }
  }
}
```

### 2. è·å–è®¤è´­è®¡åˆ’è¯¦æƒ…

**æ¥å£**: `GET /api/dinggou-jihuas/:id`

**æè¿°**: è·å–æŒ‡å®šè®¤è´­è®¡åˆ’çš„è¯¦ç»†ä¿¡æ¯

**å“åº”ç¤ºä¾‹**:
```json
{
  "data": {
    "id": 1,
    "attributes": {
      "jihuaCode": "PLAN500",
      "benjinUSDT": "500",
      "zhouQiTian": 15,
      "jingtaiBili": "6",
      "aiBili": "3",
      "choujiangCi": 3,
      "kaiqi": true,
      "createdAt": "2024-01-01T00:00:00.000Z",
      "updatedAt": "2024-01-01T00:00:00.000Z"
    }
  }
}
```

### 3. åˆ›å»ºè®¤è´­è®¢å•

**æ¥å£**: `POST /api/dinggou-dingdans`

**æè¿°**: ç”¨æˆ·é€‰æ‹©è®¡åˆ’åˆ›å»ºè®¤è´­è®¢å•

**è®¤è¯**: éœ€è¦JWT Token

**è¯·æ±‚ä½“**:
```json
{
  "data": {
    "jihuaId": 1
  }
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "data": {
    "id": 1,
    "attributes": {
      "benjinUSDT": "500",
      "zhuangtai": "active",
      "kaishiShiJian": "2024-01-01T00:00:00.000Z",
      "jieshuShiJian": "2024-01-16T00:00:00.000Z",
      "jingtaiShouyi": "0",
      "aiShuliang": "0",
      "createdAt": "2024-01-01T00:00:00.000Z",
      "updatedAt": "2024-01-01T00:00:00.000Z"
    }
  }
}
```

**é”™è¯¯å“åº”**:
```json
{
  "error": {
    "status": 400,
    "name": "BadRequestError",
    "message": "ä½™é¢ä¸è¶³"
  }
}
```

### 4. è·å–ç”¨æˆ·è®¢å•åˆ—è¡¨

**æ¥å£**: `GET /api/dinggou-dingdans`

**æè¿°**: è·å–å½“å‰ç”¨æˆ·çš„è®¤è´­è®¢å•åˆ—è¡¨

**è®¤è¯**: éœ€è¦JWT Token

**è¯·æ±‚å‚æ•°**:
```typescript
{
  filters?: {
    zhuangtai?: 'active' | 'redeemable' | 'finished';
    yonghu?: number;        // ç”¨æˆ·ID
  };
  sort?: string;            // æ’åºï¼Œå¦‚ "createdAt:desc"
  pagination?: {
    page?: number;
    pageSize?: number;
  };
  populate?: string[];      // å…³è”æ•°æ®ï¼Œå¦‚ ["jihua", "yonghu"]
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "data": [
    {
      "id": 1,
      "attributes": {
        "benjinUSDT": "500",
        "zhuangtai": "active",
        "kaishiShiJian": "2024-01-01T00:00:00.000Z",
        "jieshuShiJian": "2024-01-16T00:00:00.000Z",
        "jingtaiShouyi": "0",
        "aiShuliang": "0",
        "createdAt": "2024-01-01T00:00:00.000Z",
        "updatedAt": "2024-01-01T00:00:00.000Z",
        "jihua": {
          "data": {
            "id": 1,
            "attributes": {
              "jihuaCode": "PLAN500",
              "benjinUSDT": "500",
              "zhouQiTian": 15,
              "jingtaiBili": "6",
              "aiBili": "3"
            }
          }
        }
      }
    }
  ],
  "meta": {
    "pagination": {
      "page": 1,
      "pageSize": 25,
      "pageCount": 1,
      "total": 1
    }
  }
}
```

### 5. èµå›è®¢å•

**æ¥å£**: `POST /api/dinggou-dingdans/:id/redeem`

**æè¿°**: èµå›å·²åˆ°æœŸçš„è®¤è´­è®¢å•

**è®¤è¯**: éœ€è¦JWT Token

**è¯·æ±‚ä½“**:
```json
{
  "force": false,           // æ˜¯å¦å¼ºåˆ¶èµå›
  "testMode": false         // æ˜¯å¦æµ‹è¯•æ¨¡å¼
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "success": true,
  "data": {
    "orderId": 1,
    "benjinUSDT": "500",
    "staticUSDT": "30.00",
    "aiQty": "15.00000000",
    "selectedToken": {
      "id": 1,
      "name": "AI Token",
      "symbol": "AIT",
      "amount": "150.00000000",
      "usdtValue": "15.00",
      "price": "0.10000000"
    },
    "isExpired": true,
    "force": false,
    "testMode": false,
    "startTime": "2024-01-01T00:00:00.000Z",
    "endTime": "2024-01-16T00:00:00.000Z",
    "currentTime": "2024-01-16T00:00:00.000Z"
  }
}
```

**é”™è¯¯å“åº”**:
```json
{
  "error": {
    "status": 400,
    "name": "BadRequestError",
    "message": "è®¢å•å°šæœªåˆ°æœŸï¼Œè¿˜éœ€ç­‰å¾… 5 å¤©"
  }
}
```

### 6. è·å–é’±åŒ…ä½™é¢

**æ¥å£**: `GET /api/qianbao-yues`

**æè¿°**: è·å–å½“å‰ç”¨æˆ·çš„é’±åŒ…ä½™é¢

**è®¤è¯**: éœ€è¦JWT Token

**è¯·æ±‚å‚æ•°**:
```typescript
{
  filters: {
    yonghu: number;         // ç”¨æˆ·ID
  };
  populate?: string[];      // å…³è”æ•°æ®
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "data": [
    {
      "id": 1,
      "attributes": {
        "usdtYue": "1000.00",
        "aiYue": "50.00000000",
        "aiTokenBalances": "{\"1\":\"100.00000000\",\"2\":\"200.00000000\"}",
        "createdAt": "2024-01-01T00:00:00.000Z",
        "updatedAt": "2024-01-01T00:00:00.000Z"
      }
    }
  ]
}
```

### 7. è·å–AIä»£å¸åˆ—è¡¨

**æ¥å£**: `GET /api/ai-tokens`

**æè¿°**: è·å–æ‰€æœ‰AIä»£å¸ä¿¡æ¯

**è¯·æ±‚å‚æ•°**:
```typescript
{
  filters?: {
    isActive?: boolean;     // ç­›é€‰å¯ç”¨çš„ä»£å¸
  };
  sort?: string;            // æ’åº
}
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "data": [
    {
      "id": 1,
      "attributes": {
        "name": "AI Token",
        "symbol": "AIT",
        "contractAddress": "0x123...",
        "priceSource": "coingecko",
        "priceApiId": "ai-token",
        "weight": 20,
        "isActive": true,
        "logoUrl": "https://example.com/logo.png",
        "description": "AIä»£å¸æè¿°",
        "createdAt": "2024-01-01T00:00:00.000Z",
        "updatedAt": "2024-01-01T00:00:00.000Z"
      }
    }
  ]
}
```

## ğŸ”„ ä¸šåŠ¡æµç¨‹

### 1. è®¤è´­æµç¨‹

```mermaid
graph TD
    A[ç”¨æˆ·é€‰æ‹©è®¡åˆ’] --> B[æ£€æŸ¥é’±åŒ…ä½™é¢]
    B --> C{ä½™é¢æ˜¯å¦å……è¶³?}
    C -->|å¦| D[è¿”å›ä½™é¢ä¸è¶³é”™è¯¯]
    C -->|æ˜¯| E[æ‰£å‡é’±åŒ…ä½™é¢]
    E --> F[åˆ›å»ºè®¤è´­è®¢å•]
    F --> G[è¿”å›è®¢å•ä¿¡æ¯]
```

### 2. èµå›æµç¨‹

```mermaid
graph TD
    A[ç”¨æˆ·ç‚¹å‡»èµå›] --> B[æ£€æŸ¥è®¢å•çŠ¶æ€]
    B --> C{è®¢å•æ˜¯å¦åˆ°æœŸ?}
    C -->|å¦| D[è¿”å›æœªåˆ°æœŸé”™è¯¯]
    C -->|æ˜¯| E[è®¡ç®—æ”¶ç›Š]
    E --> F[éšæœºé€‰æ‹©AIä»£å¸]
    F --> G[æ›´æ–°é’±åŒ…ä½™é¢]
    G --> H[åˆ›å»ºé‚€è¯·å¥–åŠ±]
    H --> I[åˆ›å»ºæŠ½å¥–æœºä¼š]
    I --> J[æ›´æ–°è®¢å•çŠ¶æ€]
    J --> K[è¿”å›èµå›ç»“æœ]
```

### 3. æ”¶ç›Šè®¡ç®—è§„åˆ™

#### é™æ€æ”¶ç›Šè®¡ç®—
```
é™æ€æ”¶ç›Š = æœ¬é‡‘ Ã— é™æ€æ”¶ç›Šæ¯”ä¾‹ / 100
ä¾‹å¦‚: 500 Ã— 6 / 100 = 30 USDT
```

#### AIä»£å¸è®¡ç®—
```
AIä»£å¸æ•°é‡ = æœ¬é‡‘ Ã— AIä»£å¸æ¯”ä¾‹ / 100
ä¾‹å¦‚: 500 Ã— 3 / 100 = 15 AIä»£å¸
```

#### æœªåˆ°æœŸèµå›è®¡ç®—
```
å®é™…æ”¶ç›Š = æ ‡å‡†æ”¶ç›Š Ã— (å®é™…æ—¶é—´ / æ€»æ—¶é—´)
```

## ğŸ¯ å‰ç«¯é›†æˆæŒ‡å—

### 1. Flutter/Dart é›†æˆç¤ºä¾‹

#### è®¤è´­è®¡åˆ’æœåŠ¡
```dart
class SubscriptionService {
  final HttpClient _httpClient = HttpClient();

  // è·å–è®¤è´­è®¡åˆ’åˆ—è¡¨
  Future<Map<String, dynamic>> getSubscriptionPlans({bool? enabled}) async {
    try {
      _httpClient.init();
      final queryParams = <String, dynamic>{};
      if (enabled != null) {
        queryParams['filters[kaiqi]'] = enabled;
      }
      
      final response = await _httpClient.dio.get('/api/dinggou-jihuas', 
        queryParameters: queryParams);
      
      if (response.statusCode == 200) {
        return {'success': true, 'data': response.data};
      }
      return {'success': false, 'message': 'è·å–è®¤è´­è®¡åˆ’å¤±è´¥'};
    } on DioException catch (e) {
      return {'success': false, 'message': e.response?.data?['error']?['message'] ?? 'ç½‘ç»œé”™è¯¯'};
    } catch (e) {
      return {'success': false, 'message': 'æœªçŸ¥é”™è¯¯: $e'};
    }
  }

  // åˆ›å»ºè®¤è´­è®¢å•
  Future<Map<String, dynamic>> createSubscriptionOrder({
    required int planId,
  }) async {
    try {
      _httpClient.init();
      final response = await _httpClient.dio.post('/api/dinggou-dingdans', data: {
        'data': {
          'jihuaId': planId,
        }
      });

      if (response.statusCode == 200) {
        return {'success': true, 'data': response.data};
      }
      return {'success': false, 'message': 'åˆ›å»ºè®¢å•å¤±è´¥'};
    } on DioException catch (e) {
      return {'success': false, 'message': e.response?.data?['error']?['message'] ?? 'ç½‘ç»œé”™è¯¯'};
    } catch (e) {
      return {'success': false, 'message': 'æœªçŸ¥é”™è¯¯: $e'};
    }
  }

  // è·å–ç”¨æˆ·è®¢å•åˆ—è¡¨
  Future<Map<String, dynamic>> getUserOrders({
    String? status,
    int page = 1,
    int pageSize = 25,
  }) async {
    try {
      _httpClient.init();
      final queryParams = <String, dynamic>{
        'pagination[page]': page,
        'pagination[pageSize]': pageSize,
        'sort': 'createdAt:desc',
        'populate': ['jihua', 'yonghu'],
      };
      
      if (status != null) {
        queryParams['filters[zhuangtai]'] = status;
      }
      
      final response = await _httpClient.dio.get('/api/dinggou-dingdans', 
        queryParameters: queryParams);
      
      if (response.statusCode == 200) {
        return {'success': true, 'data': response.data};
      }
      return {'success': false, 'message': 'è·å–è®¢å•å¤±è´¥'};
    } on DioException catch (e) {
      return {'success': false, 'message': e.response?.data?['error']?['message'] ?? 'ç½‘ç»œé”™è¯¯'};
    } catch (e) {
      return {'success': false, 'message': 'æœªçŸ¥é”™è¯¯: $e'};
    }
  }

  // èµå›è®¢å•
  Future<Map<String, dynamic>> redeemOrder({
    required int orderId,
    bool force = false,
    bool testMode = false,
  }) async {
    try {
      _httpClient.init();
      final response = await _httpClient.dio.post('/api/dinggou-dingdans/$orderId/redeem', data: {
        'force': force,
        'testMode': testMode,
      });

      if (response.statusCode == 200) {
        return {'success': true, 'data': response.data};
      }
      return {'success': false, 'message': 'èµå›å¤±è´¥'};
    } on DioException catch (e) {
      return {'success': false, 'message': e.response?.data?['error']?['message'] ?? 'ç½‘ç»œé”™è¯¯'};
    } catch (e) {
      return {'success': false, 'message': 'æœªçŸ¥é”™è¯¯: $e'};
    }
  }
}
```

#### è®¤è´­è®¡åˆ’é¡µé¢ç¤ºä¾‹
```dart
class SubscriptionPlansPage extends StatefulWidget {
  @override
  _SubscriptionPlansPageState createState() => _SubscriptionPlansPageState();
}

class _SubscriptionPlansPageState extends State<SubscriptionPlansPage> {
  final SubscriptionService _service = SubscriptionService();
  List<dynamic> plans = [];
  bool isLoading = true;

  @override
  void initState() {
    super.initState();
    _loadPlans();
  }

  Future<void> _loadPlans() async {
    final result = await _service.getSubscriptionPlans(enabled: true);
    if (result['success']) {
      setState(() {
        plans = result['data']['data'];
        isLoading = false;
      });
    } else {
      ScaffoldMessenger.of(context).showSnackBar(
        SnackBar(content: Text(result['message'])),
      );
    }
  }

  Future<void> _createOrder(int planId) async {
    final result = await _service.createSubscriptionOrder(planId: planId);
    if (result['success']) {
      ScaffoldMessenger.of(context).showSnackBar(
        SnackBar(content: Text('è®¤è´­æˆåŠŸï¼')),
      );
      Navigator.pop(context);
    } else {
      ScaffoldMessenger.of(context).showSnackBar(
        SnackBar(content: Text(result['message'])),
      );
    }
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('è®¤è´­è®¡åˆ’')),
      body: isLoading
          ? Center(child: CircularProgressIndicator())
          : ListView.builder(
              itemCount: plans.length,
              itemBuilder: (context, index) {
                final plan = plans[index]['attributes'];
                return Card(
                  margin: EdgeInsets.all(8),
                  child: Padding(
                    padding: EdgeInsets.all(16),
                    child: Column(
                      crossAxisAlignment: CrossAxisAlignment.start,
                      children: [
                        Text(
                          plan['jihuaCode'],
                          style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
                        ),
                        SizedBox(height: 8),
                        Text('æœ¬é‡‘: ${plan['benjinUSDT']} USDT'),
                        Text('å‘¨æœŸ: ${plan['zhouQiTian']} å¤©'),
                        Text('é™æ€æ”¶ç›Š: ${plan['jingtaiBili']}%'),
                        Text('AIä»£å¸: ${plan['aiBili']}%'),
                        Text('æŠ½å¥–æ¬¡æ•°: ${plan['choujiangCi']} æ¬¡'),
                        SizedBox(height: 16),
                        ElevatedButton(
                          onPressed: () => _createOrder(plans[index]['id']),
                          child: Text('ç«‹å³è®¤è´­'),
                        ),
                      ],
                    ),
                  ),
                );
              },
            ),
    );
  }
}
```

### 2. é”™è¯¯å¤„ç†

#### å¸¸è§é”™è¯¯ç 
- `400`: è¯·æ±‚å‚æ•°é”™è¯¯ï¼ˆä½™é¢ä¸è¶³ã€è®¡åˆ’ä¸å­˜åœ¨ç­‰ï¼‰
- `401`: æœªè®¤è¯ï¼ˆéœ€è¦ç™»å½•ï¼‰
- `403`: æ— æƒé™ï¼ˆè®¢å•ä¸å±äºå½“å‰ç”¨æˆ·ï¼‰
- `404`: èµ„æºä¸å­˜åœ¨
- `500`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

#### é”™è¯¯å¤„ç†ç¤ºä¾‹
```dart
void handleApiError(DioException e) {
  String message = 'ç½‘ç»œé”™è¯¯';
  
  if (e.response?.data != null) {
    if (e.response?.data['error'] != null) {
      message = e.response?.data['error']['message'] ?? message;
    } else if (e.response?.data['message'] != null) {
      message = e.response?.data['message'];
    }
  }
  
  // æ ¹æ®é”™è¯¯ç±»å‹æ˜¾ç¤ºä¸åŒçš„æç¤º
  switch (e.response?.statusCode) {
    case 400:
      // ä¸šåŠ¡é€»è¾‘é”™è¯¯ï¼Œæ˜¾ç¤ºå…·ä½“é”™è¯¯ä¿¡æ¯
      break;
    case 401:
      // æœªç™»å½•ï¼Œè·³è½¬åˆ°ç™»å½•é¡µé¢
      Navigator.pushReplacementNamed(context, '/login');
      break;
    case 403:
      // æ— æƒé™
      break;
    default:
      // å…¶ä»–é”™è¯¯
      break;
  }
  
  ScaffoldMessenger.of(context).showSnackBar(
    SnackBar(content: Text(message)),
  );
}
```

## ğŸ§ª æµ‹è¯•ç”¨ä¾‹

### 1. è®¤è´­è®¡åˆ’æµ‹è¯•
```bash
# è·å–è®¤è´­è®¡åˆ’åˆ—è¡¨
curl -X GET "http://118.107.4.158:1337/api/dinggou-jihuas?filters[kaiqi]=true" \
  -H "Content-Type: application/json"

# è·å–è®¡åˆ’è¯¦æƒ…
curl -X GET "http://118.107.4.158:1337/api/dinggou-jihuas/1" \
  -H "Content-Type: application/json"
```

### 2. è®¢å•æ“ä½œæµ‹è¯•
```bash
# åˆ›å»ºè®¢å•ï¼ˆéœ€è¦è®¤è¯ï¼‰
curl -X POST "http://118.107.4.158:1337/api/dinggou-dingdans" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -d '{
    "data": {
      "jihuaId": 1
    }
  }'

# è·å–ç”¨æˆ·è®¢å•åˆ—è¡¨
curl -X GET "http://118.107.4.158:1337/api/dinggou-dingdans?populate[jihua]=true" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"

# èµå›è®¢å•
curl -X POST "http://118.107.4.158:1337/api/dinggou-dingdans/1/redeem" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -d '{
    "force": false,
    "testMode": false
  }'
```

### 3. é’±åŒ…ä½™é¢æµ‹è¯•
```bash
# è·å–é’±åŒ…ä½™é¢
curl -X GET "http://118.107.4.158:1337/api/qianbao-yues?filters[yonghu]=1" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN"
```

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. ä¸šåŠ¡è§„åˆ™
- ç”¨æˆ·å¿…é¡»æœ‰è¶³å¤Ÿçš„USDTä½™é¢æ‰èƒ½åˆ›å»ºè®¢å•
- è®¢å•åˆ°æœŸå‰ä¸èƒ½èµå›ï¼ˆé™¤éå¼ºåˆ¶èµå›ï¼‰
- èµå›æ—¶ä¼šè‡ªåŠ¨è®¡ç®—æ”¶ç›Šå¹¶æ›´æ–°é’±åŒ…ä½™é¢
- èµå›æˆåŠŸåä¼šåˆ›å»ºé‚€è¯·å¥–åŠ±å’ŒæŠ½å¥–æœºä¼š

### 2. å®‰å…¨è€ƒè™‘
- æ‰€æœ‰è®¢å•æ“ä½œéƒ½éœ€è¦ç”¨æˆ·è®¤è¯
- ç”¨æˆ·åªèƒ½æ“ä½œè‡ªå·±çš„è®¢å•
- ä½¿ç”¨æ•°æ®åº“äº‹åŠ¡ç¡®ä¿æ•°æ®ä¸€è‡´æ€§
- é˜²æ­¢é‡å¤èµå›å’Œä½™é¢å¼‚å¸¸

### 3. æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨åˆ†é¡µæŸ¥è¯¢é¿å…å¤§é‡æ•°æ®åŠ è½½
- åˆç†ä½¿ç”¨populateå‡å°‘æ•°æ®åº“æŸ¥è¯¢
- ç¼“å­˜AIä»£å¸ä»·æ ¼ä¿¡æ¯
- å¼‚æ­¥å¤„ç†é‚€è¯·å¥–åŠ±å’ŒæŠ½å¥–æœºä¼šåˆ›å»º

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·å‚è€ƒï¼š
1. **APIæ–‡æ¡£**: `http://118.107.4.158:1337/api/documentation`
2. **æµ‹è¯•è„šæœ¬**: é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„æµ‹è¯•æ–‡ä»¶
3. **é”™è¯¯æ—¥å¿—**: æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—è·å–è¯¦ç»†é”™è¯¯ä¿¡æ¯

---

*æ–‡æ¡£æ›´æ–°æ—¶é—´: 2024å¹´1æœˆ1æ—¥* 