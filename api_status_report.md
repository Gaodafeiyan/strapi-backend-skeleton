# åç«¯APIçŠ¶æ€æŠ¥å‘Š

## æœåŠ¡å™¨ä¿¡æ¯
- **æœåŠ¡å™¨åœ°å€**: http://118.107.4.158:1337
- **çŠ¶æ€**: âœ… æ­£å¸¸è¿è¡Œ
- **æµ‹è¯•æ—¶é—´**: 2024å¹´12æœˆ
- **æ—¥å¿—æ—¶é—´**: 2025-07-25 11:41-11:44

## APIå¯ç”¨æ€§åˆ†æ

### âœ… æ­£å¸¸å·¥ä½œçš„APIç«¯ç‚¹

1. **åŸºç¡€ç«¯ç‚¹**
   - `GET /` - æœåŠ¡å™¨æ ¹è·¯å¾„ âœ… (302é‡å®šå‘åˆ°/admin)
   - `GET /admin` - ç®¡ç†åå° âœ…
   - `GET /api/health` - å¥åº·æ£€æŸ¥ âœ…

2. **ç”¨æˆ·æƒé™ç³»ç»Ÿ**
   - `GET /api/users` - ç”¨æˆ·åˆ—è¡¨ âœ…
   - `GET /api/users-permissions/roles` - è§’è‰²åˆ—è¡¨ âœ…
   - `GET /api/users-permissions/roles/1` - è§’è‰²è¯¦æƒ… âœ…
   - `GET /api/users-permissions/roles/2` - è§’è‰²è¯¦æƒ… âœ…

3. **ç®¡ç†åå°ç³»ç»Ÿ**
   - `GET /admin/content-manager/collection-types/api::notice.notice` âœ…
   - `GET /admin/project-type` âœ…
   - `GET /admin/init` âœ…
   - `GET /admin/auth/login` âœ…
   - `GET /admin/license-limit-information` âœ…
   - `GET /admin/information` âœ…
   - `POST /admin/register-admin` âœ…
   - `POST /admin/renew-token` âœ…

4. **å†…å®¹ç®¡ç†ç³»ç»Ÿ**
   - `GET /content-manager/homepage/recent-documents` âœ…
   - `GET /content-manager/homepage/count-documents` âœ…

5. **ç”¨æˆ·æƒé™ç®¡ç†**
   - `GET /users-permissions/roles` âœ…
   - `GET /users-permissions/permissions` âœ…
   - `GET /users-permissions/routes` âœ…
   - `PUT /users-permissions/roles/1` âœ…
   - `PUT /users-permissions/roles/2` âœ…

### âŒ ä¸å¯ç”¨çš„APIç«¯ç‚¹

ä»¥ä¸‹APIç«¯ç‚¹è¿”å›404é”™è¯¯ï¼Œè¯´æ˜è¿™äº›è‡ªå®šä¹‰APIå¯èƒ½æ²¡æœ‰æ­£ç¡®éƒ¨ç½²æˆ–é…ç½®ï¼š

1. **é€šçŸ¥ç³»ç»Ÿ**
   - `GET /api/notices` âŒ

2. **é’±åŒ…ç³»ç»Ÿ**
   - `GET /api/qianbao-yues/user-wallet` âŒ
   - `GET /api/qianbao-yues/token-balances` âŒ
   - `GET /api/qianbao-yues/token-rewards` âŒ

3. **æŠ½å¥–ç³»ç»Ÿ**
   - `GET /api/choujiang-ji-lus` âŒ
   - `GET /api/choujiang-jihuis` âŒ
   - `GET /api/choujiang-jiangpins` âŒ

4. **è®¤è´­ç³»ç»Ÿ**
   - `GET /api/dinggou-jihuas` âŒ
   - `GET /api/dinggou-dingdans` âŒ

5. **AIä»£å¸ç³»ç»Ÿ**
   - `GET /api/ai-tokens` âŒ

6. **é‚€è¯·å¥–åŠ±ç³»ç»Ÿ**
   - `GET /api/yaoqing-jianglis` âŒ

7. **å……å€¼æç°ç³»ç»Ÿ**
   - `GET /api/qianbao-chongzhis` âŒ
   - `GET /api/qianbao-tixians` âŒ

8. **å•†åŸç³»ç»Ÿ**
   - `GET /api/shop-products` âŒ
   - `GET /api/shop-carts` âŒ
   - `GET /api/shop-orders` âŒ

9. **å…¶ä»–ç³»ç»Ÿ**
   - `GET /api/wallet-addresses` âŒ
   - `GET /api/token-reward-records` âŒ
   - `GET /api/internal-messages` âŒ
   - `GET /api/admin-dashboards` âŒ
   - `GET /api/performance-monitors` âŒ
   - `GET /api/caches` âŒ
   - `GET /api/queues` âŒ
   - `GET /api/webhooks` âŒ

### âš ï¸ æœ‰é—®é¢˜çš„APIç«¯ç‚¹

ä»æ—¥å¿—ä¸­å‘ç°çš„é‡è¦é—®é¢˜ï¼š

1. **è§’è‰²APIé”™è¯¯**
   - `GET /api/users-permissions/roles/3` åˆ° `/api/users-permissions/roles/45` å…¨éƒ¨è¿”å›500é”™è¯¯
   - è¿™è¡¨æ˜æ•°æ®åº“ä¸­åªæœ‰è§’è‰²ID 1å’Œ2å­˜åœ¨ï¼Œå…¶ä»–è§’è‰²IDä¸å­˜åœ¨

2. **APIæ ¹è·¯å¾„**
   - `GET /api` è¿”å›404é”™è¯¯ï¼Œè¿™æ˜¯æ­£å¸¸çš„ï¼Œå› ä¸ºStrapiçš„APIæ ¹è·¯å¾„ä¸ç›´æ¥å¯è®¿é—®

## é‡è¦å‘ç°

### ğŸ¯ ç®¡ç†åå°åŠŸèƒ½æ­£å¸¸
ä»æ—¥å¿—å¯ä»¥çœ‹å‡ºï¼Œç®¡ç†åå°åŠŸèƒ½å®Œå…¨æ­£å¸¸ï¼š
- ç®¡ç†å‘˜æ³¨å†ŒæˆåŠŸ
- å†…å®¹ç®¡ç†å™¨å¯ä»¥è®¿é—®noticeé›†åˆç±»å‹
- ç”¨æˆ·æƒé™ç®¡ç†åŠŸèƒ½æ­£å¸¸
- è§’è‰²æƒé™é…ç½®åŠŸèƒ½æ­£å¸¸

### ğŸ” æ•°æ®åº“çŠ¶æ€
- æ•°æ®åº“ä¸­åªæœ‰2ä¸ªè§’è‰²ï¼ˆID 1å’Œ2ï¼‰
- å°è¯•è®¿é—®ä¸å­˜åœ¨çš„è§’è‰²IDä¼šå¯¼è‡´500é”™è¯¯
- noticeå†…å®¹ç±»å‹å­˜åœ¨ä¸”å¯è®¿é—®

### ğŸ“ è®¤è¯çŠ¶æ€
- ç®¡ç†å‘˜è®¤è¯ç³»ç»Ÿæ­£å¸¸å·¥ä½œ
- Tokenç»­æœŸåŠŸèƒ½æ­£å¸¸
- æƒé™æ£€æŸ¥æœºåˆ¶æ­£å¸¸

## é—®é¢˜è¯Šæ–­

### ä¸»è¦é—®é¢˜
1. **è‡ªå®šä¹‰APIæœªéƒ¨ç½²**: å¤§éƒ¨åˆ†è‡ªå®šä¹‰APIè¿”å›404é”™è¯¯
2. **æ•°æ®åº“è§’è‰²ä¸å®Œæ•´**: åªæœ‰2ä¸ªè§’è‰²ï¼Œå…¶ä»–è§’è‰²IDä¸å­˜åœ¨
3. **è‡ªå®šä¹‰å†…å®¹ç±»å‹æœªæ³¨å†Œ**: è™½ç„¶noticeå­˜åœ¨ï¼Œä½†å…¶ä»–è‡ªå®šä¹‰å†…å®¹ç±»å‹å¯èƒ½æœªæ­£ç¡®æ³¨å†Œ

### å»ºè®®è§£å†³æ–¹æ¡ˆ

1. **é‡æ–°éƒ¨ç½²è‡ªå®šä¹‰API**
   ```bash
   # åœ¨æœåŠ¡å™¨ä¸Šé‡æ–°æ„å»ºå’Œéƒ¨ç½²
   npm run build
   npm run start
   ```

2. **æ£€æŸ¥æ•°æ®åº“è¿ç§»**
   - ç¡®è®¤æ‰€æœ‰è‡ªå®šä¹‰å†…å®¹ç±»å‹å·²æ­£ç¡®è¿ç§»åˆ°æ•°æ®åº“
   - æ£€æŸ¥æ•°æ®åº“è¡¨ç»“æ„æ˜¯å¦å®Œæ•´

3. **éªŒè¯APIæ³¨å†Œ**
   - ç¡®è®¤æ‰€æœ‰è‡ªå®šä¹‰APIæ¨¡å—å·²æ­£ç¡®æ³¨å†Œ
   - æ£€æŸ¥Strapiå¯åŠ¨æ—¥å¿—ä¸­æ˜¯å¦æœ‰APIæ³¨å†Œé”™è¯¯

4. **æ£€æŸ¥è§’è‰²é…ç½®**
   - ç¡®è®¤è§’è‰²æƒé™é…ç½®æ­£ç¡®
   - æ£€æŸ¥æ˜¯å¦éœ€è¦åˆ›å»ºæ›´å¤šè§’è‰²

## æ€»ç»“

- **æœåŠ¡å™¨çŠ¶æ€**: âœ… æ­£å¸¸è¿è¡Œ
- **ç®¡ç†åå°**: âœ… å®Œå…¨æ­£å¸¸
- **åŸºç¡€API**: âœ… ç”¨æˆ·æƒé™ç³»ç»Ÿæ­£å¸¸
- **è‡ªå®šä¹‰API**: âŒ å¤§éƒ¨åˆ†ä¸å¯ç”¨
- **æ•°æ®åº“**: âš ï¸ éƒ¨åˆ†å†…å®¹ç±»å‹å¯èƒ½æœªæ­£ç¡®è¿ç§»

**å…³é”®å‘ç°**: ç®¡ç†åå°åŠŸèƒ½å®Œå…¨æ­£å¸¸ï¼Œè¯´æ˜Strapiæ ¸å¿ƒåŠŸèƒ½æ²¡æœ‰é—®é¢˜ã€‚ä¸»è¦é—®é¢˜æ˜¯è‡ªå®šä¹‰APIæ¨¡å—æ²¡æœ‰æ­£ç¡®éƒ¨ç½²æˆ–æ³¨å†Œã€‚å»ºè®®ä¼˜å…ˆè§£å†³è‡ªå®šä¹‰APIçš„éƒ¨ç½²é—®é¢˜ã€‚ 