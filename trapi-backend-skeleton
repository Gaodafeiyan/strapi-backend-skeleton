[1mdiff --git a/src/api/dinggou-dingdan/routes/dinggou-dingdan.ts b/src/api/dinggou-dingdan/routes/dinggou-dingdan.ts[m
[1mindex ebb0a0c..ac0f614 100644[m
[1m--- a/src/api/dinggou-dingdan/routes/dinggou-dingdan.ts[m
[1m+++ b/src/api/dinggou-dingdan/routes/dinggou-dingdan.ts[m
[36m@@ -15,6 +15,13 @@[m [mexport default {[m
       method: 'POST',[m
       path: '/dinggou-dingdans',[m
       handler: 'dinggou-dingdan.createWithPlan',[m
[32m+[m[32m      config: {[m
[32m+[m[32m        auth: {[m
[32m+[m[32m          scope: ['authenticated'],[m
[32m+[m[32m        },[m
[32m+[m[32m        policies: [],[m
[32m+[m[32m        middlewares: [],[m
[32m+[m[32m      },[m
     },[m
     {[m
       method: 'PUT',[m
[36m@@ -30,6 +37,13 @@[m [mexport default {[m
       method: 'POST',[m
       path: '/dinggou-dingdans/:id/redeem',[m
       handler: 'dinggou-dingdan.redeem',[m
[32m+[m[32m      config: {[m
[32m+[m[32m        auth: {[m
[32m+[m[32m          scope: ['authenticated'],[m
[32m+[m[32m        },[m
[32m+[m[32m        policies: [],[m
[32m+[m[32m        middlewares: [],[m
[32m+[m[32m      },[m
     },[m
   ],[m
 }; [m
\ No newline at end of file[m
[1mdiff --git a/test-dinggou-jihua.js b/test-dinggou-jihua.js[m
[1mnew file mode 100644[m
[1mindex 0000000..5392265[m
[1m--- /dev/null[m
[1m+++ b/test-dinggou-jihua.js[m
[36m@@ -0,0 +1,115 @@[m
[32m+[m[32mconst axios = require('axios');[m
[32m+[m
[32m+[m[32mconst API_BASE = 'http://118.107.4.158:1337';[m
[32m+[m
[32m+[m[32m// æµ‹è¯•æ•°æ® - 5000Uæ¡£ä½è®¡åˆ’[m
[32m+[m[32mconst testPlanData = {[m
[32m+[m[32m  jihuaCode: 'PLAN5000',[m
[32m+[m[32m  benjinUSDT: '5000',[m
[32m+[m[32m  zhouQiTian: 15,[m
[32m+[m[32m  jingtaiBili: '6',[m
[32m+[m[32m  aiBili: '3',[m
[32m+[m[32m  choujiangCi: 3,[m
[32m+[m[32m  kaiqi: true[m
[32m+[m[32m};[m
[32m+[m
[32m+[m[32masync function testCreatePlan() {[m
[32m+[m[32m  try {[m
[32m+[m[32m    console.log('ğŸ” å¼€å§‹æµ‹è¯•åˆ›å»ºè®¤è´­è®¡åˆ’...');[m
[32m+[m[32m    console.log('ğŸ“‹ æµ‹è¯•æ•°æ®:', JSON.stringify(testPlanData, null, 2));[m
[32m+[m[41m    [m
[32m+[m[32m    const response = await axios.post(`${API_BASE}/content-manager/collection-types/api::dinggou-jihua.dinggou-jihua`, testPlanData, {[m
[32m+[m[32m      headers: {[m
[32m+[m[32m        'Content-Type': 'application/json',[m
[32m+[m[32m        'Authorization': 'Bearer YOUR_ADMIN_TOKEN' // éœ€è¦æ›¿æ¢ä¸ºå®é™…çš„admin token[m
[32m+[m[32m      },[m
[32m+[m[32m      timeout: 10000[m
[32m+[m[32m    });[m
[32m+[m[41m    [m
[32m+[m[32m    console.log('âœ… åˆ›å»ºæˆåŠŸ!');[m
[32m+[m[32m    console.log('ğŸ“Š å“åº”æ•°æ®:', JSON.stringify(response.data, null, 2));[m
[32m+[m[41m    [m
[32m+[m[32m  } catch (error) {[m
[32m+[m[32m    console.log('âŒ åˆ›å»ºå¤±è´¥!');[m
[32m+[m[32m    console.log('ğŸ” é”™è¯¯è¯¦æƒ…:');[m
[32m+[m[32m    console.log('çŠ¶æ€ç :', error.response?.status);[m
[32m+[m[32m    console.log('é”™è¯¯æ¶ˆæ¯:', error.response?.data);[m
[32m+[m[32m    console.log('è¯·æ±‚æ•°æ®:', error.config?.data);[m
[32m+[m[32m    console.log('è¯·æ±‚URL:', error.config?.url);[m
[32m+[m[32m    console.log('è¯·æ±‚å¤´:', error.config?.headers);[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32masync function testGetPlans() {[m
[32m+[m[32m  try {[m
[32m+[m[32m    console.log('\nğŸ” æµ‹è¯•è·å–è®¤è´­è®¡åˆ’åˆ—è¡¨...');[m
[32m+[m[41m    [m
[32m+[m[32m    const response = await axios.get(`${API_BASE}/api/dinggou-jihuas`, {[m
[32m+[m[32m      timeout: 10000[m
[32m+[m[32m    });[m
[32m+[m[41m    [m
[32m+[m[32m    console.log('âœ… è·å–æˆåŠŸ!');[m
[32m+[m[32m    console.log('ğŸ“Š è®¡åˆ’æ•°é‡:', response.data.data?.length || 0);[m
[32m+[m[32m    console.log('ğŸ“‹ è®¡åˆ’åˆ—è¡¨:', JSON.stringify(response.data.data, null, 2));[m
[32m+[m[41m    [m
[32m+[m[32m  } catch (error) {[m
[32m+[m[32m    console.log('âŒ è·å–å¤±è´¥!');[m
[32m+[m[32m    console.log('çŠ¶æ€ç :', error.response?.status);[m
[32m+[m[32m    console.log('é”™è¯¯æ¶ˆæ¯:', error.response?.data);[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32masync function testSchemaValidation() {[m
[32m+[m[32m  console.log('\nğŸ” æ£€æŸ¥SchemaéªŒè¯è§„åˆ™...');[m
[32m+[m[41m  [m
[32m+[m[32m  // æµ‹è¯•å¿…å¡«å­—æ®µ[m
[32m+[m[32m  const requiredFields = ['jihuaCode', 'benjinUSDT', 'zhouQiTian', 'jingtaiBili', 'aiBili'];[m
[32m+[m[41m  [m
[32m+[m[32m  for (const field of requiredFields) {[m
[32m+[m[32m    const testData = { ...testPlanData };[m
[32m+[m[32m    delete testData[field];[m
[32m+[m[41m    [m
[32m+[m[32m    try {[m
[32m+[m[32m      console.log(`\nğŸ“ æµ‹è¯•ç¼ºå°‘å¿…å¡«å­—æ®µ: ${field}`);[m
[32m+[m[32m      const response = await axios.post(`${API_BASE}/content-manager/collection-types/api::dinggou-jihua.dinggou-jihua`, testData, {[m
[32m+[m[32m        headers: {[m
[32m+[m[32m          'Content-Type': 'application/json',[m
[32m+[m[32m          'Authorization': 'Bearer YOUR_ADMIN_TOKEN'[m
[32m+[m[32m        },[m
[32m+[m[32m        timeout: 10000[m
[32m+[m[32m      });[m
[32m+[m[32m      console.log('âŒ åº”è¯¥å¤±è´¥ä½†æ²¡æœ‰å¤±è´¥!');[m
[32m+[m[32m    } catch (error) {[m
[32m+[m[32m      console.log(`âœ… æ­£ç¡®è¿”å›é”™è¯¯: ${error.response?.status}`);[m
[32m+[m[32m      console.log(`é”™è¯¯æ¶ˆæ¯: ${JSON.stringify(error.response?.data)}`);[m
[32m+[m[32m    }[m
[32m+[m[32m  }[m
[32m+[m[41m  [m
[32m+[m[32m  // æµ‹è¯•å”¯ä¸€æ€§çº¦æŸ[m
[32m+[m[32m  try {[m
[32m+[m[32m    console.log('\nğŸ“ æµ‹è¯•é‡å¤jihuaCode...');[m
[32m+[m[32m    const response = await axios.post(`${API_BASE}/content-manager/collection-types/api::dinggou-jihua.dinggou-jihua`, testPlanData, {[m
[32m+[m[32m      headers: {[m
[32m+[m[32m        'Content-Type': 'application/json',[m
[32m+[m[32m        'Authorization': 'Bearer YOUR_ADMIN_TOKEN'[m
[32m+[m[32m      },[m
[32m+[m[32m      timeout: 10000[m
[32m+[m[32m    });[m
[32m+[m[32m    console.log('âŒ åº”è¯¥å¤±è´¥ä½†æ²¡æœ‰å¤±è´¥!');[m
[32m+[m[32m  } catch (error) {[m
[32m+[m[32m    console.log(`âœ… æ­£ç¡®è¿”å›é”™è¯¯: ${error.response?.status}`);[m
[32m+[m[32m    console.log(`é”™è¯¯æ¶ˆæ¯: ${JSON.stringify(error.response?.data)}`);[m
[32m+[m[32m  }[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32masync function main() {[m
[32m+[m[32m  console.log('ğŸš€ å¼€å§‹è¯Šæ–­è®¤è´­è®¡åˆ’åˆ›å»ºé—®é¢˜...\n');[m
[32m+[m[41m  [m
[32m+[m[32m  await testGetPlans();[m
[32m+[m[32m  await testCreatePlan();[m
[32m+[m[32m  await testSchemaValidation();[m
[32m+[m[41m  [m
[32m+[m[32m  console.log('\nğŸ è¯Šæ–­å®Œæˆ!');[m
[32m+[m[32m}[m
[32m+[m
[32m+[m[32mmain().catch(console.error);[m[41m [m
\ No newline at end of file[m
